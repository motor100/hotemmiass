document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector("body"),t=new Date,o=t.getFullYear(),l=t.getMonth(),n=t.getDate(),c=new Date(o,l+2,n);new AirDatepicker("#start-date",{minDate:new Date,maxDate:c,autoClose:!0}),document.querySelectorAll(".rooms-item-content").forEach((e=>{e.onclick=function(){e.classList.toggle("active")}}));new Swiper(".about-slider",{slidesPerView:1,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".testimonials-slider",{slidesPerView:"auto",spaceBetween:20});let r=document.querySelector(".burger-menu-wrapper"),a=document.querySelector(".mobile-menu"),i=document.querySelector(".burger-menu");r.onclick=function(){e.classList.toggle("overflow-hidden"),r.classList.toggle("active"),a.classList.toggle("mobile-menu-open"),i.classList.toggle("close")};let s=document.querySelectorAll(".callback-btn"),u=document.querySelector("#callback-modal"),d=document.querySelectorAll(".modal-window"),m=document.querySelectorAll(".modal-window .modal-close");for(let e=0;e<s.length;e++)s[e].onclick=function(){p(u)};function p(t){e.classList.add("overflow-hidden"),t.style.display="block",t.childNodes[1].classList.add("active")}for(let e=0;e<m.length;e++)m[e].onclick=function(){h(d[e])};for(let e=0;e<d.length;e++)d[e].onclick=function(t){let o=t.target.classList;for(let t=0;t<o.length;t++)"modal-window"!=o[t]&&"modal-wrapper"!=o[t]||h(d[e])};function h(t){e.classList.remove("overflow-hidden"),t.style.display="",t.childNodes[1].classList.remove("active")}let w=document.querySelector("#callback-modal-form");function y(e){event.preventDefault();let t=e.querySelectorAll(".input-field"),o=[];for(let e=0;e<t.length;e++){t[e].hasAttribute("required")&&""==t[e].value&&(t[e].classList.add("required"),o.push(!1))}if(0==o.length){for(let e=0;e<t.length;e++)t[e].classList.remove("required");let o={name:e.querySelector(".name").value,phone:e.querySelector(".phone").value,checkbox:e.querySelector(".custom-checkbox").checked},l=new XMLHttpRequest;l.open("post","phpmailer/mailer.php"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),l.send("name="+encodeURIComponent(o.name)+"&phone="+encodeURIComponent(o.phone)+"&checkbox="+encodeURIComponent(o.checkbox)),alert("Спасибо. Мы свяжемся с вами."),e.reset()}}document.querySelector(".js-callback-modal-btn").onclick=function(e){y(w)};let f=document.querySelector("#callback-phone");IMask(f,{mask:"+{7} (000) 000 00 00"});document.querySelector(".city-year").innerText="Миасс "+o}));