document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector("body"),t=new Date,o=t.getFullYear(),l=t.getMonth(),c=t.getDate(),n=new Date(o,l+2,c);new AirDatepicker("#start-date",{minDate:new Date,maxDate:n,autoClose:!0}),document.querySelectorAll(".rooms-item-content").forEach((e=>{e.onclick=function(){e.classList.toggle("active")}}));let r=document.querySelector(".burger-menu-wrapper"),a=document.querySelector(".mobile-menu"),d=document.querySelector(".burger-menu");r.onclick=function(){e.classList.toggle("overflow-hidden"),a.classList.toggle("down"),d.classList.toggle("close")};let u=document.querySelectorAll(".callback-btn"),i=document.querySelector("#callback-modal"),s=document.querySelectorAll(".modal-window"),m=document.querySelectorAll(".modal-window .modal-close");for(let e=0;e<u.length;e++)u[e].onclick=function(){h(i)};function h(t){e.classList.add("overflow-hidden"),t.style.display="block",t.childNodes[1].classList.add("active")}for(let e=0;e<m.length;e++)m[e].onclick=function(){p(s[e])};for(let e=0;e<s.length;e++)s[e].onclick=function(t){let o=t.target.classList;for(let t=0;t<o.length;t++)"modal-window"!=o[t]&&"modal-wrapper"!=o[t]||p(s[e])};function p(t){e.classList.remove("overflow-hidden"),t.style.display="",t.childNodes[1].classList.remove("active")}let y=document.querySelector("#callback-modal-form");function f(e){event.preventDefault();let t=e.querySelectorAll(".input-field"),o=[];for(let e=0;e<t.length;e++){t[e].hasAttribute("required")&&""==t[e].value&&(t[e].classList.add("required"),o.push(!1))}if(0==o.length){for(let e=0;e<t.length;e++)t[e].classList.remove("required");let o={name:e.querySelector(".name").value,phone:e.querySelector(".phone").value,checkbox:e.querySelector(".custom-checkbox").checked},l=new XMLHttpRequest;l.open("post","phpmailer/mailer.php"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),l.send("name="+encodeURIComponent(o.name)+"&phone="+encodeURIComponent(o.phone)+"&checkbox="+encodeURIComponent(o.checkbox)),alert("Спасибо. Мы свяжемся с вами."),e.reset()}}document.querySelector(".js-callback-modal-btn").onclick=function(e){f(y)};let q=document.querySelector("#callback-phone");IMask(q,{mask:"+{7} (000) 000 00 00"});document.querySelector(".city-year").innerText="Миасс "+o}));